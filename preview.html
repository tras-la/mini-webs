<!DOCTYPE html>
<html lang="es-AR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#e6deca" />
    <meta name="color-scheme" content="light only" />

    <!-- START CONTENT_METADATA_BLOCK -->
    <title>Mini Webs | Trasla</title>
    <link rel="alternate" type="application/ld+json" href="/events/schema.jsonld" />
    <link rel="canonical" property="og:url" href="https://eventos.trasla.com.ar" />
    <meta name="description" content="Creá tu mini web con Trasla." />
    <meta property="og:title" content="Trasla Webs" />
    <meta property="og:description" content="Creá tu mini web con Trasla." />

    <meta property="og:site_name" content="TRASLA WEBS" />
    <meta property="og:locale" content="es-AR" />

    <link rel="icon" type="image/png" sizes="192x192" href="/assets/icons/icon-192x192.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/assets/icons/icon-512x512.png" />
    <link rel="apple-touch-icon" href="/assets/icons/apple-touch-icon.png" />

    <!-- END CONTENT_METADATA_BLOCK -->
    <style>
      @font-face {
        font-family: "Montserrat";
        src: url("/assets/fonts/montserrat/Montserrat-VariableFont_wght.woff2") format("woff2");
        font-weight: 100 900;
        font-style: normal;
        font-display: swap;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
        box-sizing: border-box;
        transition: all 0.3s ease;
        background-color: var(--color-bg-dark);
        overflow: auto;
      }

      :root {
        --color-bg: #e6deca;
        --color-accent: #3d3f20;
        --color-accent-light: oklch(from var(--color-accent) calc(l + 0.01) c h);
        --color-accent-dark: oklch(from var(--color-accent) calc(l - 0.04) c h);
        --color-bg-light: oklch(from var(--color-bg) calc(l + 0.01) c h);
        --color-bg-dark: oklch(from var(--color-bg) calc(l - 0.04) c h);
        --radius: 10px;
        --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        --profile-image-size: 10rem;
        font-family: "Montserrat", system-ui, sans-serif;
      }

      .blurred-background::before {
        content: "";
        position: absolute;
        inset: 0;
        background-image: url("/profile.webp");
        background-size: cover;
        filter: blur(1.5rem) opacity(0.3);
        transform: scale(1.1); /* Scale up to hide blur edges */
        z-index: -1;
      }

      scene-3d {
        --translate-small: translateZ(1rem);
        --translate-medium: translateZ(2rem);
        display: grid;
        place-items: center;
        height: 100%;

        /* The camera */
        perspective: 50rem;

        /* Isolate the 3D stack so effects don’t leak */
        position: relative;
        overflow: visible;

        > * {
          transform-style: preserve-3d;
          will-change: transform;
          transition: transform 0.1s ease-out;
        }
      }

      profile-card {
        background-color: var(--color-bg);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        padding: 2rem;
        text-align: center;
        transition: all 0.3s ease;
        min-height: 500px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: min(70%, 60ch);
        max-height: 80svh;

        > h1 {
          transform: var(--translate-medium);
        }

        > p {
          transform: var(--translate-small);
          white-space: pre-wrap;
          overflow: auto;
          min-height: 6ch;
        }

        > img {
          width: var(--profile-image-size);
          height: var(--profile-image-size);
          object-fit: cover;
          border-radius: 50%;
          border: 2px solid var(--color-accent, currentColor);
          background: var(--color-bg);
          transition: all 0.3s ease;
          font-size: 2.5rem;
          transform: var(--translate-small);
        }

        > .links {
          display: grid;
          justify-content: center;
          gap: 1rem;
          transform: var(--translate-small);
          margin-top: 1rem;

          a {
            display: flex;
            justify-content: unset;
            align-items: center;
            gap: 1rem;
            background-color: var(--color-bg-light);
            padding: 0.5rem 0.75rem 0.5rem 0.5rem;
            border-radius: 50px;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid var(--color-accent, currentColor);
            color: currentColor;
            text-decoration: none;
            font-weight: 600;
            letter-spacing: 0.05rem;

            &:hover {
              background-color: var(--color-bg-dark);
            }

            img {
              aspect-ratio: 1;
              width: 2rem;
              object-fit: cover;
              border-radius: 50%;
            }
          }
        }
      }
    </style>
    <script type="module" src="/components/scene-3d.js"></script>
  </head>
  <body>
    <scene-3d>
      <profile-card class="blurred-background">
        <script type="application/ld+json">
          {
            "@context": "https://schema.org",
            "@type": "Person",
            "name": "TOMYO",
            "image": "/profile.webp",
            "description": "Developer of trasla.com.ar",
            "email": "tomyhayes@gmail.com",
            "sameAs": ["https://instagram.com/tomashayes", "https://github.com/tomyo"],
            "hasPart": {
              "@type": "ItemList",
              "itemListElement": [
                {
                  "@type": "ListItem",
                  "position": 1,
                  "item": {
                    "@type": "WebPage",
                    "name": "Mi portfolio",
                    "url": "https://tuportfolio.com",
                    "image": "/profile.webp"
                  }
                }
              ]
            },
            "x-data": {
              "id": "05b82438-2604-438c-b3a1-d7b437652946",
              "createdAt": "2025-11-24T14:55:51.723Z",
              "updatedAt": "2025-11-24T14:55:51.723Z",
              "username": "tomyo2",
              "email": "tomyhayes@gmail.com",
              "displayName": "TOMYO",
              "profileImage": "/profile.webp",
              "description": "Desarrollador de trasla.com.ar\n\nDe Mina Clavero, Traslasierra.\n\nDesarrollador de trasla.com.ar\n\nDe Mina Clavero, Traslasierra.\n\nDesarrollador de trasla.com.ar\n\nDe Mina Clavero, Traslasierra.\n\nDesarrollador de trasla.com.ar\n\nDe Mina Clave",
              "accentColor": "#3d3f20",
              "bgColor": "#e6deca",
              "links": [
                { "label": "Instagram", "url": "https://instagram.com/tomashayes" },
                { "label": "github", "url": "https://github.com/tomyo" },
                {
                  "label": "Mi portfolio",
                  "url": "https://tuportfolio.com",
                  "image": "/profile.webp"
                }
              ]
            }
          }
        </script>
      </profile-card>
    </scene-3d>
    <script type="module">
      customElements.define(
        "profile-card",
        class ProfileCard extends HTMLElement {
          static dataScriptSelector = "script[type='application/ld+json']";

          parseData() {
            const json = this.shadowRoot.querySelector("slot[name='data']").assignedNodes()[0].textContent;
            const rawData = JSON.parse(json);
            const data = rawData["x-data"];

            document.documentElement.style.setProperty("--color-accent", data.accentColor);
            document.documentElement.style.setProperty("--color-bg", data.bgColor);

            return data;
          }

          connectedCallback() {
            this.attachShadow({ mode: "open" });
            this.shadowRoot.innerHTML = /* html */ `
              <style>
                :host {
                  display: block;
                  padding: 1rem;
                  border: 1px solid #ccc;
                }
                slot[name="data"] {
                  display: none;
                }
              </style>
              <slot></slot>
              <slot name="data"></slot>
            `;

            // assing script type="application/ld+json" to data slot ;
            this.querySelector(ProfileCard.dataScriptSelector).slot = "data";
            this.render();
          }

          render() {
            const data = this.parseData();

            if (this.children.length > 1) {
              this.querySelectorAll(`:not(${ProfileCard.dataScriptSelector})`).forEach((child) => {
                child.remove();
              });
            }
            this.insertAdjacentHTML(
              "afterbegin",
              /* html */ `
              <img src="${data.profileImage}" alt="${data.displayName}" />
              <h1>${data.displayName}</h1>
              <p>${data.description}</p>
              <nav class="links">
                ${data.links
                  .map(
                    (link) => /* html */ `
                  <a href="${link.url}"><img src="${link.image || "/link.svg"}" alt="${link.label}">${link.label}</a>
                `
                  )
                  .join("")}
              </nav> `
            );
          }
        }
      );
    </script>
  </body>
</html>
